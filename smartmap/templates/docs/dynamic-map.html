{% extends 'smartmap/_layout' %}
{% set selectedTab = 'dynamic' %}

{% set title = 'Show Locations on a Dynamic Map'|t %}

{% set content %}

    <h2>Dynamic Map</h2>

    <div class="function-definition">
        <h3><code>map(locations, options)</code></h3>
        <div class="function-description">Render a dynamic map using the Google Maps API.</div>
        <div class="function-parameters"></div>
        <div class="function-returns"></div>
        <pre><code>{% verbatim -%}
{% set locations = craft.entries.section('locations').find() %}
{% set options = {
    'zoom': 5,
    'height': 450
} %}

{{ craft.smartMap.map(locations, options) }}
        {%- endverbatim %}</code></pre>
        <p>Creates a &lt;div&gt; tag with the "smartmap-mapcanvas" class. This is used as the container for the dynamic map.</p>
    </div>

    <table class="parameters">
        <colgroup>
            <col width="120" />
            <col width="80" />
            <col width="160" />
            <col width="*" />
        </colgroup>
        <tr>
            <th class="parameter">Options</th>
            <th class="type">Type</th>
            <th class="default">Default</th>
            <th class="description">Description</th>
        </tr>
        <tr>
            <td class="parameter">id</td>
            <td class="type">string</td>
            <td class="default">"smartmap-mapcanvas"</td>
            <td class="description">Set id attribute of container.</td>
        </tr>
        <tr>
            <td class="parameter">width</td>
            <td class="type">int</td>
            <td class="default"><em>null</em></td>
            <td class="description">Width of map (in px)</td>
        </tr>
        <tr>
            <td class="parameter">height</td>
            <td class="type">int</td>
            <td class="default"><em>null</em></td>
            <td class="description">Height of map (in px)</td>
        </tr>
        <tr>
            <td class="parameter">zoom</td>
            <td class="type">int</td>
            <td class="default">8</td>
            <td class="description">Zoom level. <em>(higher number = more detailed view)</em></td>
        </tr>
        <tr>
            <td class="parameter">center</td>
            <td class="type">mixed</td>
            <td class="default">(avg. of all coords)</td>
            <td class="description">Center of the map, ie: {'lat':38.897837, 'lng':-77.036512}</td>
        </tr>
    </table>

{% endset %}